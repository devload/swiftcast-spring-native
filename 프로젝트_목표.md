# SwiftCast 프로젝트 목표

## 🎯 핵심 목표

**Claude와 GLM을 편하게 스위칭하고 사용량을 모니터링하는 데스크톱 프로그램**

---

## 💡 왜 이 프로젝트를 시작했나?

### 문제 상황
1. **Claude Code는 Anthropic만 사용** → Provider 선택 불가
2. **GLM API도 훌륭한 선택지** → 하지만 직접 사용 불가
3. **사용량 추적이 어려움** → 얼마나 썼는지 모름

### 해결 방법
```
Claude Code
    ↓ (ANTHROPIC_BASE_URL = http://localhost:8080)
SwiftCast Proxy
    ↓ (활성 계정에 따라 라우팅)
    ├── Claude API (Anthropic)
    └── GLM API (Z.AI)
    ↓ (모든 요청 기록)
SwiftCast → 사용량 데이터베이스
```

**결과**:
- ✅ Claude ↔ GLM 자유롭게 전환
- ✅ 각 Provider별 사용량 명확히 파악
- ✅ 상황에 맞는 Provider 선택 가능

---

## 🎯 1차 목표: 프록시 기능 (✅ 완료)

### 필수 기능
- [x] **HTTP 프록시 서버**: Claude Code 요청을 가로채기
- [x] **SSE 스트리밍**: 실시간 응답 스트리밍 지원
- [x] **계정 관리**: 여러 API 계정 등록 및 전환
- [x] **API 키 저장**: 안전한 저장소에 API 키 보관
- [x] **자동 시작**: 시스템 부팅 시 자동 실행
- [x] **멀티 Provider**: GLM, Anthropic 등 여러 API 지원

### 달성 상태
✅ **100% 완성**
- 프록시 서버 정상 작동
- GLM API 연동 테스트 완료
- Claude Code 설정 완료
- 실제 사용 가능

---

## 🎯 2차 목표: 데스크톱 프로그램 (⚠️ 진행 중)

### 원하는 사용자 경험

```
[바탕화면]
    SwiftCast 아이콘 더블클릭
        ↓
    Desktop 앱 창 열림
        ↓
    GUI로 모든 것 관리
```

### 필수 기능
- [ ] **단일 실행파일**: 더블클릭만으로 실행
- [ ] **Desktop UI**: 네이티브 윈도우 프로그램
- [ ] **직관적인 인터페이스**: 프로그래밍 지식 불필요
- [ ] **시스템 트레이**: 백그라운드 실행
- [ ] **자동 업데이트**: 새 버전 자동 설치

### 현재 상태
⚠️ **60% 완성**
- Tauri 기반 구조 완성
- 백엔드 완전 작동
- 프론트엔드 구조만 있음
- 실행은 되지만 개발 모드만 작동 (느리고 복잡함)

### 필요한 작업
1. **프론트엔드 UI 개발**
   - 대시보드 페이지
   - 계정 관리 페이지
   - 설정 페이지
   - 통계 페이지

2. **릴리스 빌드**
   - 프론트엔드 빌드 (Vite)
   - Tauri 번들 생성
   - MSI 설치 파일 생성

3. **사용자 경험 개선**
   - 한 번의 더블클릭으로 실행
   - 터미널 창 불필요
   - 빠른 시작 시간

---

## 🎯 3차 목표: 추가 기능 (📋 계획)

### 사용량 모니터링
- [ ] **토큰 사용량 추적**: 얼마나 사용했는지
- [ ] **비용 계산**: 실시간 비용 표시
- [ ] **통계 차트**: 일별/월별 사용량 그래프
- [ ] **사용 내역**: 각 요청의 상세 로그

### Provider 관리
- [ ] **여러 Provider 지원**: Anthropic, GLM, OpenRouter 등
- [ ] **자동 전환**: 한도 초과 시 다른 계정으로 전환
- [ ] **API 키 검증**: 유효성 자동 체크
- [ ] **비용 비교**: Provider별 비용 비교

### 고급 기능
- [ ] **요청 필터링**: 특정 요청만 프록시
- [ ] **캐싱**: 반복 요청 캐싱으로 비용 절감
- [ ] **로드 밸런싱**: 여러 계정에 요청 분산
- [ ] **알림**: 한도 도달 시 알림

---

## 📊 현재 vs 목표

### 현재 상태 (2024-01-18)

```
✅ 프록시 기능: 100% (완전 작동)
⚠️ Desktop UI: 60% (개발 모드만)
❌ 추가 기능: 0% (미착수)
```

### 최종 목표

```
✅ 프록시 기능: 100%
✅ Desktop UI: 100%
✅ 추가 기능: 80%
```

---

## 🚀 사용 시나리오 (최종 목표)

### 시나리오 1: 평소에는 Claude, 간단한 작업은 GLM
```
1. SwiftCast 실행
2. Anthropic 계정, GLM 계정 모두 등록
3. 평소: Anthropic 계정 활성화 → Claude Code 사용
4. 간단한 작업: GLM 계정으로 전환 → 비용 절감
5. 대시보드에서 각 Provider별 사용량 확인
```

### 시나리오 2: GLM 주력, Claude는 백업
```
1. GLM 계정을 주 계정으로 설정
2. Claude Code로 작업
3. GLM 한도 도달 시 Anthropic으로 전환
4. 통계로 총 비용 확인
```

### 시나리오 3: 사용량 분석
```
1. 여러 프로젝트 작업
2. 각 Provider별 토큰 사용량 추적
3. "이번 주 Claude 얼마, GLM 얼마 썼는지" 확인
4. 다음 달 Provider 선택 최적화
```

---

## 💰 예상 효과

### 비용 절감
```
Anthropic Claude Sonnet 4:
  - Input: $3.00 / 1M tokens
  - Output: $15.00 / 1M tokens

GLM (Z.AI):
  - Input: ~$0.50 / 1M tokens (예상)
  - Output: ~$2.00 / 1M tokens (예상)

예상 절감률: 80-90%
```

### 편의성
- ✅ Claude Code 그대로 사용
- ✅ 설정 한 번만 하면 자동
- ✅ 여러 Provider 자유롭게 전환
- ✅ 사용량 실시간 확인

---

## 🎯 단계별 로드맵

### Phase 1: MVP (✅ 완료)
- [x] 프록시 서버 구축
- [x] 계정 관리 시스템
- [x] GLM API 연동
- [x] Claude Code 설정

### Phase 2: Desktop App (⚠️ 진행 중)
- [ ] 프론트엔드 UI 개발
- [ ] 릴리스 빌드
- [ ] 설치 파일 생성
- [ ] 사용자 테스트

### Phase 3: 추가 기능 (📋 계획)
- [ ] 사용량 모니터링
- [ ] 통계 대시보드
- [ ] 여러 Provider 지원
- [ ] 자동 업데이트

### Phase 4: 안정화 (📋 계획)
- [ ] 버그 수정
- [ ] 성능 최적화
- [ ] 문서 작성
- [ ] 커뮤니티 지원

---

## 📝 핵심 가치

### 1. **유연성** 🔄
가장 중요한 목표. 상황에 맞는 Provider 선택.
- Claude가 필요할 때: Anthropic 사용
- 비용 절감이 필요할 때: GLM 사용
- 한 번의 클릭으로 전환

### 2. **투명성** 📊
사용량을 명확히 보여줌.
- Provider별 토큰 사용량
- Provider별 비용
- 시간별 추이

### 3. **사용 편의성** 🎯
복잡한 설정 없이 간단하게.
- Desktop 프로그램으로 관리
- 직관적인 UI
- Claude Code는 그대로 사용

### 4. **비용 최적화** 💰
선택의 결과로 얻는 효과.
- 필요할 때만 비싼 API 사용
- 나머지는 저렴한 API 사용
- 총 비용 절감

---

## ✅ 성공 기준

### 단기 (1개월)
- [x] 프록시 기능 완성
- [ ] Desktop UI 릴리스
- [ ] 10명 이상 사용

### 중기 (3개월)
- [ ] 사용량 모니터링 완성
- [ ] 자동 업데이트 지원
- [ ] 100명 이상 사용

### 장기 (6개월)
- [ ] 모든 주요 Provider 지원
- [ ] 커뮤니티 활성화
- [ ] 1000명 이상 사용

---

## 🤔 고민 중인 점

### 1. Desktop UI vs 웹 대시보드
**현재 상태**:
- Desktop UI: 원하는 방식이지만 개발 복잡
- 웹 대시보드: 빠르고 간단하지만 덜 직관적

**결정**: Desktop UI 완성 우선, 웹 대시보드는 보조

### 2. 오픈소스 vs 클로즈드
**고민**:
- 오픈소스: 커뮤니티 기여 가능, API 키 노출 위험
- 클로즈드: 안전하지만 발전 느림

**결정**: 미정

### 3. 무료 vs 유료
**고민**:
- 무료: 많은 사용자, 유지보수 부담
- 유료: 지속 가능, 사용자 적을 수 있음

**결정**: 일단 무료, 나중에 프리미엄 기능 추가 고려

---

## 💭 최종 비전

**"AI API를 자유롭게 선택하고 투명하게 관리하기"**

```
목표:
- Provider 선택의 자유 (Claude, GLM, OpenRouter 등)
- 명확한 사용량 추적 (얼마나 썼는지 정확히 파악)
- 복잡한 설정 없이 간단하게 (Desktop UI로)
- 최적화된 비용 (상황에 맞는 Provider 선택)
```

---

## 📅 타임라인

```
2024-01-18 (현재):
  ✅ Phase 1 완료 (프록시 기능)
  ⚠️ Phase 2 진행 중 (Desktop UI 60%)

2024-01-25 (목표):
  ✅ Phase 2 완료 (Desktop UI 100%)
  📋 Phase 3 시작 (추가 기능)

2024-02-01 (목표):
  ✅ Phase 3 완료 (기본 모니터링)
  🎉 v1.0 릴리스
```

---

## 🎯 다음 단계

### 지금 당장 (우선순위 1)
1. **Desktop UI 완성 결정**
   - 프론트엔드 개발할 것인가?
   - 아니면 현재 상태로 사용할 것인가?

2. **사용 시작**
   - 일단 백엔드 프록시로 사용
   - 실제 비용 절감 효과 확인

### 이후 (우선순위 2)
1. **피드백 수집**
   - 실제 사용하면서 불편한 점
   - 필요한 기능

2. **개선 방향 결정**
   - Desktop UI 완성
   - 또는 다른 기능 추가

---

## 💡 결론

**핵심 목표**: Claude ↔ GLM 자유롭게 스위칭 + 사용량 모니터링

**현재 상태**:
- ✅ 프록시 + 계정 스위칭: 100% 완성
- ⚠️ 사용량 모니터링: 백엔드 완성, UI 미구현
- ⚠️ Desktop UI: 60% (개발 모드만 작동)

**다음 단계 선택지**:
1. **사용량 모니터링 UI 우선** → 핵심 가치 완성
2. **Desktop UI 완성 우선** → 사용 편의성 개선
3. **지금 상태로 사용** → 기능 테스트 후 결정
